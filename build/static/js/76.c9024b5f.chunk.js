"use strict";(self.webpackChunkcrema=self.webpackChunkcrema||[]).push([[76],{68438:(e,a,i)=>{i.d(a,{Z:()=>n});var t=i(74569),s=i.n(t);s().defaults.baseURL="".concat("https://surxondaryo.leapmotorca.uz/api"),s().interceptors.request.use((e=>{const a=(e=>{try{return localStorage.getItem(e)}catch(a){console.log("Error getting data")}})("lptoken"),i=null!==a?"Bearer ".concat(a):"";return e.headers.authorization=i,e}));const l=s(),n={async getData(e){const{data:a}=await l.get(e);return a},async getDataByID(e,a){const{data:i}=await l.get("".concat(e,"/").concat(a));return i},async postData(e,a){const{data:i}=await l.post(e,a);return i},async editData(e,a,i){const{data:t}=await l.put("".concat(e,"/").concat(i),a);return t},async deleteData(e,a){await l.delete("".concat(e,"/").concat(a))},async deleteImages(e,a){console.log("delete image",a),await l.delete(e,{data:a})}}},80076:(e,a,i)=>{i.r(a),i.d(a,{default:()=>z});var t=i(72791),s=i(49389),l=i(521),n=i(2409),o=i(50419),d=i(66106),r=i(30914),u=i(93086),c=i(87309),m=i(68117),v=i(91933),h=i(68438),p=i(98986),x=i(57689),g=i(16030),j=i(77221),b=i(68747),y=i(80184);const{TextArea:Z}=s.default,{Title:f}=l.default,U={mainTextRu:"",mainTextUz:"",mainMediaId:"",videoId:"",aboutDescriptionRu:"",aboutDescriptionUz:"",team:[{mediaId:"",nameRu:"",nameUz:"",levelRu:"",levelUz:""}],researchTitleRu:"",researchTitleUz:"",researchTextRu:"",researchTextUz:"",researchMediaId:"",aboutSysDescriptionRu:"",aboutsysDescriptionUz:"",systems:[{mediaId:"",titleRu:"",titleUz:"",descriptionRu:"",descriptionUz:""}]},z=()=>{const[e]=n.Z.useForm(),a=(0,x.s0)(),{editId:i}=(0,g.v9)((e=>e.editData)),l=(0,g.I0)(),[z,I]=(0,t.useState)([]),[R,S]=(0,t.useState)([]),[D,w]=(0,t.useState)([]),[T,F]=(0,t.useState)([]),[q,C]=(0,t.useState)([]),[k,L]=(0,t.useState)([]),[M,V]=(0,t.useState)(0),[E,P]=(0,t.useState)(0),[_,O]=(0,t.useState)(""),{mutate:B,data:A,isLoading:J,isSuccess:K}=(0,v.useMutation)((e=>{let{url:a,data:i}=e;return h.Z.postData(a,i)}),{onSuccess:()=>o.ZP.success("Success"),onError:e=>o.ZP.error(e.message)}),{mutate:N,data:Q,isLoading:H,isSuccess:W}=(0,v.useMutation)((e=>{let{url:a,formData:i}=e;return h.Z.postData(a,i)}),{onError:e=>o.ZP.error(e.response.message)}),{isLoading:G,data:X,refetch:Y,isSuccess:$}=(0,v.useQuery)(["edit-banner",i],(()=>h.Z.getDataByID("/about",i)),{enabled:!1}),{mutate:ee,isLoading:ae,data:ie,isSuccess:te}=(0,v.useMutation)((e=>{let{url:a,data:i,id:t}=e;return h.Z.editData(a,i,t)}),{onError:e=>{o.ZP.error(e.response.data)}}),{mutate:se}=(0,v.useMutation)((e=>{let{url:a,ids:i}=e;return h.Z.deleteImages(a,i)}),{onSuccess:()=>o.ZP.success("Success"),onError:e=>o.ZP.error(e.message)});(0,t.useEffect)((()=>{te&&l({type:j.Pb,payload:""}),(K||te)&&a("/about")}),[A,ie]),(0,t.useEffect)((()=>{""!==i&&Y()}),[i]),(0,t.useEffect)((()=>{""===i&&e.setFieldsValue(U)}),[]),(0,t.useEffect)((()=>{var a,i,t,s,l,n,o,d,r,u,c,m,v;const h=X,p=[],x=[],g=[],j=[];if(void 0!==h){for(let e=0;e<h.aboutCompany.team.length;e++){var b,y,Z,f,U,z;const a=[{uid:null===(b=h.aboutCompany.team[e])||void 0===b||null===(y=b.image)||void 0===y?void 0:y._id,name:null===(Z=h.aboutCompany.team[e])||void 0===Z||null===(f=Z.image)||void 0===f?void 0:f.name,status:"done",url:"".concat("https://surxondaryo.leapmotorca.uz/api","/").concat(null===h||void 0===h||null===(U=h.aboutCompany.team[e])||void 0===U||null===(z=U.image)||void 0===z?void 0:z.path)}],i={nameRu:null===h||void 0===h?void 0:h.aboutCompany.team[e].nameRu,nameUz:null===h||void 0===h?void 0:h.aboutCompany.team[e].nameUz,levelRu:null===h||void 0===h?void 0:h.aboutCompany.team[e].levelRu,levelUz:null===h||void 0===h?void 0:h.aboutCompany.team[e].levelUz,mediaId:null===h||void 0===h?void 0:h.aboutCompany.team[e].image};p.push(i),x.push(a)}for(let e=0;e<h.aboutSystems.systems.length;e++){var R,D,T,q,k,M;const a=[{uid:null===h||void 0===h||null===(R=h.aboutSystems.systems[e])||void 0===R||null===(D=R.image)||void 0===D?void 0:D._id,name:null===h||void 0===h||null===(T=h.aboutSystems.systems[e])||void 0===T||null===(q=T.image)||void 0===q?void 0:q.name,status:"done",url:"".concat("https://surxondaryo.leapmotorca.uz/api","/").concat(null===h||void 0===h||null===(k=h.aboutSystems.systems[e])||void 0===k||null===(M=k.image)||void 0===M?void 0:M.path)}],i={titleRu:null===h||void 0===h?void 0:h.aboutSystems.systems[e].titleRu,titleUz:null===h||void 0===h?void 0:h.aboutSystems.systems[e].titleUz,descriptionRu:null===h||void 0===h?void 0:h.aboutSystems.systems[e].descriptionRu,descriptionUz:null===h||void 0===h?void 0:h.aboutSystems.systems[e].descriptionUz,mediaId:null===h||void 0===h?void 0:h.aboutSystems.systems[e].image};g.push(i),j.push(a)}}const V=[{uid:null===h||void 0===h||null===(a=h.mainSection)||void 0===a||null===(i=a.imageMain)||void 0===i?void 0:i._id,name:null===h||void 0===h||null===(t=h.mainSection)||void 0===t||null===(s=t.imageMain)||void 0===s?void 0:s.name,status:"done",url:"".concat("https://surxondaryo.leapmotorca.uz/api","/").concat(null===h||void 0===h||null===(l=h.mainSection)||void 0===l||null===(n=l.imageMain)||void 0===n?void 0:n.path)}],E=[{uid:null===h||void 0===h||null===(o=h.research.image)||void 0===o?void 0:o._id,name:null===h||void 0===h||null===(d=h.research.image)||void 0===d?void 0:d.name,status:"done",url:"".concat("https://surxondaryo.leapmotorca.uz/api","/").concat(null===h||void 0===h||null===(r=h.research)||void 0===r||null===(u=r.image)||void 0===u?void 0:u.path)}],P=[{uid:null===h||void 0===h||null===(c=h.video)||void 0===c?void 0:c._id,name:null===h||void 0===h||null===(m=h.video)||void 0===m?void 0:m.name,status:"done",url:"".concat("https://surxondaryo.leapmotorca.uz/api","/").concat(null===h||void 0===h||null===(v=h.video)||void 0===v?void 0:v.path)}];if($){var _,O;const a={mainTextRu:null===h||void 0===h||null===(_=h.mainSection)||void 0===_?void 0:_.textRu,mainTextUz:null===h||void 0===h||null===(O=h.mainSection)||void 0===O?void 0:O.textRu,mainMediaId:V,videoId:P,aboutDescriptionRu:null===h||void 0===h?void 0:h.aboutCompany.descriptionRu,aboutDescriptionUz:null===h||void 0===h?void 0:h.aboutCompany.descriptionUz,team:p,researchTitleRu:null===h||void 0===h?void 0:h.research.titleRu,researchTitleUz:null===h||void 0===h?void 0:h.research.titleUz,researchTextRu:null===h||void 0===h?void 0:h.research.textRu,researchTextUz:null===h||void 0===h?void 0:h.research.textUz,researchMediaId:E,aboutSysDescriptionRu:null===h||void 0===h?void 0:h.aboutSystems.descriptionRu,aboutsysDescriptionUz:null===h||void 0===h?void 0:h.aboutSystems.descriptionUz,systems:g};I(V),S([null===h||void 0===h?void 0:h.video]),w(P),F(x),C(E),L(j),e.setFieldsValue(a)}}),[X]);(0,t.useEffect)((()=>{var a,i;if(W&&"main"===_){var t,s,l;const e=[{uid:null===(t=Q[0])||void 0===t?void 0:t._id,name:null===(s=Q[0])||void 0===s?void 0:s.name,status:"done",url:"".concat("https://surxondaryo.leapmotorca.uz/api","/").concat(null===(l=Q[0])||void 0===l?void 0:l.path)}];I(e),O("false")}if(W&&null!==(a=D[0])&&void 0!==a&&null!==(i=a.originFileObj)&&void 0!==i&&i.uid&&"video"===_&&(S(Q),O("")),W&&"research"===_){var n,o,d;const e=[{uid:null===(n=Q[0])||void 0===n?void 0:n._id,name:null===(o=Q[0])||void 0===o?void 0:o.name,status:"done",url:"".concat("https://surxondaryo.leapmotorca.uz/api","/").concat(null===(d=Q[0])||void 0===d?void 0:d.path)}];C(e),O("")}const r=[...T];if(W&&"team"===_){var u,c,m;const a=[{uid:null===(u=Q[0])||void 0===u?void 0:u._id,name:null===(c=Q[0])||void 0===c?void 0:c.name,status:"done",url:"".concat("https://surxondaryo.leapmotorca.uz/api","/").concat(null===(m=Q[0])||void 0===m?void 0:m.path)}];r[M]=a,F(r);const i=e.getFieldsValue(),t=null===i||void 0===i?void 0:i.team;t[M].mediaId=a,e.setFieldsValue({items:t}),O("")}const v=[...k];if(W&&"system"===_){var h,p,x;const a=[{uid:null===(h=Q[0])||void 0===h?void 0:h._id,name:null===(p=Q[0])||void 0===p?void 0:p.name,status:"done",url:"".concat("https://surxondaryo.leapmotorca.uz/api","/").concat(null===(x=Q[0])||void 0===x?void 0:x.path)}];v[E]=a,L(v);const i=e.getFieldsValue().systems;i[E].mediaId=a,e.setFieldsValue({items:i}),O("")}}),[Q]);(0,t.useEffect)((()=>{const a=JSON.parse(localStorage.getItem("myFormValues"));a&&(a.images=[],e.setFieldsValue(a));const i=()=>{localStorage.setItem("myFormValues",JSON.stringify(e.getFieldsValue()))};return window.addEventListener("beforeunload",i),()=>{localStorage.removeItem("editDataId"),localStorage.removeItem("myFormValues"),window.removeEventListener("beforeunload",i)}}),[]);const le=async e=>{let a=e.url;a||(a=await new Promise((a=>{const i=new FileReader;i.readAsDataURL(e.originFileObj),i.onload=()=>a(i.result)})));const i=new Image;i.src=a;const t=window.open(a);null===t||void 0===t||t.document.write(i.outerHTML)};return(0,y.jsx)("div",{children:H||J||G||ae?(0,y.jsx)(p.QP,{}):(0,y.jsxs)(n.Z,{form:e,name:"basic",labelCol:{span:24},wrapperCol:{span:24},style:{maxWidth:"100%"},initialValues:U,onFinish:e=>{var a,t,s;const l=[],n=[];for(let i=0;i<T.length;i++){var o;const a={nameRu:e.team[i].nameRu,nameUz:e.team[i].nameUz,levelRu:e.team[i].levelRu,levelUz:e.team[i].levelUz,mediaId:null===(o=T[i][0])||void 0===o?void 0:o.uid};l.push(a)}for(let i=0;i<k.length;i++){var d;const a={titleRu:e.systems[i].titleRu,titleUz:e.systems[i].titleUz,descriptionRu:e.systems[i].descriptionRu,descriptionUz:e.systems[i].descriptionUz,mediaId:null===(d=k[i][0])||void 0===d?void 0:d.uid};n.push(a)}const r={mainSection:{textRu:e.mainTextRu,textUz:e.mainTextUz,mediaId:null===(a=z[0])||void 0===a?void 0:a.uid},videoId:null===(t=R[0])||void 0===t?void 0:t._id,aboutCompany:{descriptionRu:e.aboutDescriptionRu,descriptionUz:e.aboutDescriptionUz,team:l},research:{titleRu:e.researchTitleRu,titleUz:e.researchTitleUz,textRu:e.researchTextRu,textUz:e.researchTextUz,mediaId:null===(s=q[0])||void 0===s?void 0:s.uid},aboutSystems:{descriptionRu:e.aboutSysDescriptionRu,descriptionUz:e.aboutsysDescriptionUz,systems:n}};$?ee({url:"/about",data:r,id:i}):B({url:"/about",data:r})},onFinishFailed:e=>{console.log("Failed:",e)},autoComplete:"off",children:[(0,y.jsx)(f,{level:2,children:"\u0413\u043b\u0430\u0432\u043d\u044b\u0439 \u0431\u0430\u043d\u043d\u0435\u0440"}),(0,y.jsxs)(d.Z,{gutter:20,children:[(0,y.jsx)(r.Z,{span:12,children:(0,y.jsx)(n.Z.Item,{label:"\u0422\u0435\u043a\u0441\u0442 Ru",name:"mainTextRu",rules:[{required:!0,message:"\u0422\u0440\u0435\u0431\u0443\u0435\u0442\u0441\u044f \u0442\u0435\u043a\u0441\u0442 RU!"}],children:(0,y.jsx)(Z,{rows:4})})}),(0,y.jsx)(r.Z,{span:12,children:(0,y.jsx)(n.Z.Item,{label:"Text Uz",name:"mainTextUz",rules:[{required:!0,message:"Text kiritish talab qilinadi Uz!"}],children:(0,y.jsx)(Z,{rows:4})})})]}),(0,y.jsx)(d.Z,{gutter:20,children:(0,y.jsx)(r.Z,{span:12,children:(0,y.jsx)(n.Z.Item,{label:"\u0418\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u0435",name:"mainMediaId",rules:[{required:!0,message:"\u0422\u0440\u0435\u0431\u0443\u0435\u0442\u0441\u044f \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0430 \u0438\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u044f "}],children:(0,y.jsx)(m.Z,{rotate:!0,children:(0,y.jsx)(u.Z,{maxCount:1,fileList:z,listType:"picture-card",onChange:a=>{let{fileList:i}=a;if(e.setFieldsValue({mainMediaId:i}),0!==z.length||0===i.length){var t;const e=[null===(t=z[0])||void 0===t?void 0:t.uid];se({url:"/medias",ids:{ids:e}}),I([])}const s=new FormData;0!==i.length&&(s.append("media",i[0].originFileObj),N({url:"/medias",formData:s}),O("main"))},onPreview:le,beforeUpload:()=>!1,children:z.length>0?"":"Upload"})})})})}),(0,y.jsx)(f,{level:2,children:"\u0412\u0438\u0434\u0435\u043e"}),(0,y.jsx)(d.Z,{gutter:20,children:(0,y.jsx)(r.Z,{span:24,children:(0,y.jsx)(n.Z.Item,{label:"\u0411\u0430\u043d\u043d\u0435\u0440\u043d\u043e\u0435 \u0432\u0438\u0434\u0435\u043e",name:"videoId",rules:[{required:!0,message:"\u0422\u0440\u0435\u0431\u0443\u0435\u0442\u0441\u044f \u0432\u0438\u0434\u0435\u043e\u0431\u0430\u043d\u043d\u0435\u0440"}],children:(0,y.jsx)(u.Z,{maxCount:1,accept:"video/*",fileList:D,listType:"picture-card",onChange:a=>{let{fileList:i}=a;if(w(i),e.setFieldsValue({videoId:i}),0!==R.length||0===i.length){var t;const e=[null===(t=R[0])||void 0===t?void 0:t._id];se({url:"/medias",ids:{ids:e}}),S([])}const s=new FormData;0!==i.length&&(s.append("media",i[0].originFileObj),N({url:"/medias",formData:s}),O("video"))},onPreview:le,beforeUpload:()=>!1,children:D.length>0?"":"Upload"})})})}),(0,y.jsx)(f,{level:2,children:"\u041e \u043a\u043e\u043c\u0430\u043d\u0434\u0435"}),(0,y.jsxs)(d.Z,{gutter:20,children:[(0,y.jsx)(r.Z,{span:12,children:(0,y.jsx)(n.Z.Item,{label:"\u0422\u0435\u043a\u0441\u0442 Ru",name:"aboutDescriptionRu",rules:[{required:!0,message:"\u0422\u0440\u0435\u0431\u0443\u0435\u0442\u0441\u044f \u0442\u0435\u043a\u0441\u0442 RU!"}],children:(0,y.jsx)(Z,{rows:4})})}),(0,y.jsx)(r.Z,{span:12,children:(0,y.jsx)(n.Z.Item,{label:"Text Uz",name:"aboutDescriptionUz",rules:[{required:!0,message:"Text kiritish talab qilinadi Uz!"}],children:(0,y.jsx)(Z,{rows:4})})})]}),(0,y.jsx)(n.Z.List,{name:"team",children:(e,a)=>{let{add:i,remove:t}=a;return(0,y.jsxs)(y.Fragment,{children:[e.map(((e,a)=>{const i=T[a]||[];return(0,y.jsxs)("div",{style:{marginBottom:20},children:[(0,y.jsxs)(d.Z,{gutter:20,children:[(0,y.jsx)(r.Z,{span:12,children:(0,y.jsx)(n.Z.Item,{label:"\u0418\u043c\u044f",name:[e.name,"nameRu"],rules:[{required:!0,message:"\u0422\u0440\u0435\u0431\u0443\u0435\u0442\u0441\u044f \u0438\u043c\u044f "}],children:(0,y.jsx)(s.default,{})})}),(0,y.jsx)(r.Z,{span:12,children:(0,y.jsx)(n.Z.Item,{label:"Ism",name:[e.name,"nameUz"],rules:[{required:!0,message:"Ism kiritish talab qilinadi "}],children:(0,y.jsx)(s.default,{})})})]}),(0,y.jsxs)(d.Z,{gutter:20,children:[(0,y.jsx)(r.Z,{span:12,children:(0,y.jsx)(n.Z.Item,{label:"\u0423\u0440\u043e\u0432\u0435\u043d\u044c",name:[e.name,"levelRu"],rules:[{required:!0,message:"\u0422\u0440\u0435\u0431\u0443\u0435\u0442\u0441\u044f \u0443\u0440\u043e\u0432\u0435\u043d\u044c "}],children:(0,y.jsx)(s.default,{})})}),(0,y.jsx)(r.Z,{span:12,children:(0,y.jsx)(n.Z.Item,{label:"Daraja",name:[e.name,"levelUz"],rules:[{required:!0,message:"Daraja kiritish talab qilinadi "}],children:(0,y.jsx)(s.default,{})})})]}),(0,y.jsx)(n.Z.Item,{label:"(\u0424\u043e\u0442\u043e \u043f\u0435\u0440\u0441\u043e\u043d\u0430\u043b\u0430) ".concat(a+1),name:[e.name,"mediaId"],rules:[{required:!0,message:"\u0422\u0440\u0435\u0431\u0443\u0435\u0442\u0441\u044f \u0444\u043e\u0442\u043e \u0441\u043e\u0442\u0440\u0443\u0434\u043d\u0438\u043a\u0430"}],children:(0,y.jsx)(m.Z,{rotate:!0,children:(0,y.jsx)(u.Z,{maxCount:1,listType:"picture-card",fileList:i,onChange:e=>((e,a)=>{let{fileList:i}=a;if(V(e),T[e]||0===i.length){const a=[T[e][0].uid];se({url:"/medias",ids:{ids:a}}),T[e]=null,F(T)}const t=new FormData;0!==i.length&&(t.append("media",i[0].originFileObj),N({url:"/medias",formData:t}),O("team"))})(a,e),onPreview:le,beforeUpload:()=>!1,children:i.length<1&&"+ Upload"})})}),(0,y.jsx)(b.Z,{onClick:()=>((e,a,i,t)=>{if(t===T[i]&&T.length>0){const e={ids:[T[i][0].uid]};T.splice(i,1),se({url:"/medias",ids:e})}a(e)})(e.name,t,a,i)})]},e.fieldKey)})),(0,y.jsx)(n.Z.Item,{children:(0,y.jsx)(c.Z,{type:"primary",onClick:()=>i(),block:!0,style:{backgroundColor:"#28a745"},children:"\u0414\u043e\u0431\u0430\u0432\u044c\u0442\u0435 \u043f\u0440\u0435\u0434\u043c\u0435\u0442"})})]})}}),(0,y.jsx)(f,{level:2,children:"\u0418\u0441\u0441\u043b\u0435\u0434\u043e\u0432\u0430\u0442\u044c"}),(0,y.jsxs)(d.Z,{gutter:20,children:[(0,y.jsx)(r.Z,{span:12,children:(0,y.jsx)(n.Z.Item,{label:"\u0417\u0430\u0433\u043e\u043b\u043e\u0432\u043e\u043a",name:"researchTitleRu",rules:[{required:!0,message:"\u0422\u0440\u0435\u0431\u0443\u0435\u0442\u0441\u044f \u0437\u0430\u0433\u043e\u043b\u043e\u0432\u043e\u043a "}],children:(0,y.jsx)(s.default,{})})}),(0,y.jsx)(r.Z,{span:12,children:(0,y.jsx)(n.Z.Item,{label:"Sarlavha",name:"researchTitleUz",rules:[{required:!0,message:"Sarlavha kiritish talab qilinadi "}],children:(0,y.jsx)(s.default,{})})})]}),(0,y.jsxs)(d.Z,{gutter:20,children:[(0,y.jsx)(r.Z,{span:12,children:(0,y.jsx)(n.Z.Item,{label:"\u0422\u0435\u043a\u0441\u0442",name:"researchTextRu",rules:[{required:!0,message:"\u0422\u0440\u0435\u0431\u0443\u0435\u0442\u0441\u044f \u0442\u0435\u043a\u0441\u0442 "}],children:(0,y.jsx)(s.default,{})})}),(0,y.jsx)(r.Z,{span:12,children:(0,y.jsx)(n.Z.Item,{label:"Matn",name:"researchTextUz",rules:[{required:!0,message:"Matn kiritish talab qilinadi "}],children:(0,y.jsx)(s.default,{})})})]}),(0,y.jsx)(d.Z,{gutter:20,children:(0,y.jsx)(r.Z,{span:12,children:(0,y.jsx)(n.Z.Item,{label:"\u0418\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u0435",name:"researchMediaId",rules:[{required:!0,message:"\u0422\u0440\u0435\u0431\u0443\u0435\u0442\u0441\u044f \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0430 \u0438\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u044f "}],children:(0,y.jsx)(m.Z,{rotate:!0,children:(0,y.jsx)(u.Z,{maxCount:1,fileList:q,listType:"picture-card",onChange:a=>{let{fileList:i}=a;if(e.setFieldsValue({researchMediaId:i}),0!==q.length||0===i.length){var t;const e=[null===(t=q[0])||void 0===t?void 0:t.uid];se({url:"/medias",ids:{ids:e}}),C([])}const s=new FormData;0!==i.length&&(s.append("media",i[0].originFileObj),N({url:"/medias",formData:s}),O("research"))},onPreview:le,beforeUpload:()=>!1,children:q.length>0?"":"Upload"})})})})}),(0,y.jsx)(f,{level:2,children:"\u041e \u0441\u0438\u0441\u0442\u0435\u043c\u0435"}),(0,y.jsxs)(d.Z,{gutter:20,children:[(0,y.jsx)(r.Z,{span:12,children:(0,y.jsx)(n.Z.Item,{label:"\u0422\u0435\u043a\u0441\u0442 Ru",name:"aboutSysDescriptionRu",rules:[{required:!0,message:"\u0422\u0440\u0435\u0431\u0443\u0435\u0442\u0441\u044f \u0442\u0435\u043a\u0441\u0442 RU!"}],children:(0,y.jsx)(Z,{rows:4})})}),(0,y.jsx)(r.Z,{span:12,children:(0,y.jsx)(n.Z.Item,{label:"Text Uz",name:"aboutsysDescriptionUz",rules:[{required:!0,message:"Text kiritish talab qilinadi Uz!"}],children:(0,y.jsx)(Z,{rows:4})})})]}),(0,y.jsx)(n.Z.List,{name:"systems",children:(e,a)=>{let{add:i,remove:t}=a;return(0,y.jsxs)(y.Fragment,{children:[e.map(((e,a)=>{const i=k[a]||[];return(0,y.jsxs)("div",{style:{marginBottom:20},children:[(0,y.jsxs)(d.Z,{gutter:20,children:[(0,y.jsx)(r.Z,{span:12,children:(0,y.jsx)(n.Z.Item,{label:"\u0417\u0430\u0433\u043e\u043b\u043e\u0432\u043e\u043a",name:[e.name,"titleRu"],rules:[{required:!0,message:"\u0422\u0440\u0435\u0431\u0443\u0435\u0442\u0441\u044f \u0437\u0430\u0433\u043e\u043b\u043e\u0432\u043e\u043a "}],children:(0,y.jsx)(s.default,{})})}),(0,y.jsx)(r.Z,{span:12,children:(0,y.jsx)(n.Z.Item,{label:"Sarlavha",name:[e.name,"titleUz"],rules:[{required:!0,message:"Sarlavha kiritish talab qilinadi "}],children:(0,y.jsx)(s.default,{})})})]}),(0,y.jsxs)(d.Z,{gutter:20,children:[(0,y.jsx)(r.Z,{span:12,children:(0,y.jsx)(n.Z.Item,{label:"\u0422\u0435\u043a\u0441\u0442",name:[e.name,"descriptionRu"],rules:[{required:!0,message:"\u0422\u0440\u0435\u0431\u0443\u0435\u0442\u0441\u044f \u0442\u0435\u043a\u0441\u0442"}],children:(0,y.jsx)(Z,{rows:4})})}),(0,y.jsx)(r.Z,{span:12,children:(0,y.jsx)(n.Z.Item,{label:"Matn",name:[e.name,"descriptionUz"],rules:[{required:!0,message:"Matn kiritish talab qilinadi "}],children:(0,y.jsx)(Z,{rows:4})})})]}),(0,y.jsx)(n.Z.Item,{label:"(\u0424\u043e\u0442\u043e) ".concat(a+1),name:[e.name,"mediaId"],rules:[{required:!0,message:"\u0422\u0440\u0435\u0431\u0443\u0435\u0442\u0441\u044f \u0444\u043e\u0442\u043e"}],children:(0,y.jsx)(m.Z,{rotate:!0,children:(0,y.jsx)(u.Z,{maxCount:1,listType:"picture-card",fileList:i,onChange:e=>((e,a)=>{let{fileList:i}=a;if(P(e),k[e]||0===i.length){const a=[k[e][0].uid];se({url:"/medias",ids:{ids:a}}),k[e]=null,L(k)}const t=new FormData;0!==i.length&&(t.append("media",i[0].originFileObj),N({url:"/medias",formData:t}),O("system"))})(a,e),onPreview:le,beforeUpload:()=>!1,children:i.length<1&&"+ Upload"})})}),(0,y.jsx)(b.Z,{onClick:()=>((e,a,i,t)=>{if(t===k[i]){const e=[k[i][0].uid];k.splice(i,1),se({url:"/medias",ids:{ids:e}})}a(e)})(e.name,t,a,i)})]},e.fieldKey)})),(0,y.jsx)(n.Z.Item,{children:(0,y.jsx)(c.Z,{type:"primary",onClick:()=>i(),block:!0,style:{backgroundColor:"#28a745"},children:"\u0414\u043e\u0431\u0430\u0432\u044c\u0442\u0435 \u043f\u0440\u0435\u0434\u043c\u0435\u0442"})})]})}}),(0,y.jsx)(c.Z,{type:"primary",htmlType:"submit",style:{width:"100%"},children:$?"Edit":"Add"})]})})}}}]);
//# sourceMappingURL=76.c9024b5f.chunk.js.map